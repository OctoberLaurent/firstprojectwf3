{% extends 'base.html.twig' %}

{% block title %}{{title}}{% endblock %}

{% block body %}{% endblock %}
{% block sidebar %}{% endblock %}
{% block content %} 
<div class="example-wrapper">
    <h1>{{title}}</h1>
    <table class="table table-hover">
        <thead>
            <tr>
            <th scope="col">#</th>
            <th scope="col">Titre</th>
            <th scope="col">Description</th>
            <th scope="col">Price</th>
            {% if is_granted('IS_AUTHENTICATED_REMEMBERED') %}
                <th scope="col">Edit</th>
                <th scope="col">Delete</th>
            {% endif %}
            </tr>
        </thead>
        <tbody>
        {% for book in books %}
            <tr>
            <th scope="row"><a href="{{ path ('books:read', { 'id' : book.id }) }}">{{loop.index}}</a></th>
            <td>{{ book.title }}</td>
            <td>{{ book.description }}</td>
            <td>{{ book.price }}</td>
            {% if is_granted('IS_AUTHENTICATED_REMEMBERED') %}
                <td> <div class = "text-center"><a  class = "text-center" href="{{ path ('books:update', { 'id' : book.id }) }}"><i class="far fa-edit"></i></a></div></td>
                <td> <div class = "text-center"><a class = "text-center"><a href="{{ path ('books:delete', { 'id' : book.id }) }}"><i class="fas fa-trash-alt"></i></a></div></td>
            {% endif %}
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {# <ul id ="books">
    {% for book in books %}
        <li>{{ book }}</li>
    {% endfor %}
    </ul> #}
</td>
{% endblock %}
